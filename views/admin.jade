extends layout

block content
    if session.role != "Admin" && session.role != "Manager" && session.role != "IT User"
        script(type='text/javascript').
            console.log("error: not logged in");
            window.location.replace('/');
    else
        script(src='/javascripts/socket.io.js')
        script(src='/javascripts/ticket_client.js')
        script(type='text/javascript').
            var sessionUser = "#{session.user}";
            var sessionRole = "#{session.role}";
            var sessionDepts = "#{session.depts}";
    div.navbar.navbar-inverse.navbar-fixed-top(role='navigation')
        div.container-fluid
            div.navbar-header
                button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-collapse')
                    span.sr-only Toggle Navigation
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                a.navbar-brand(href='#') Wei To Ticket
            div.navbar-collapse.collapse
                ul.nav.navbar-nav.navbar-right
                    li
                        a(href='#') Dashboard
                    li
                        a(href='#') Settings
                    li
                        a(href='#') Profile
                    li
                        a(href='#') Help

div.container-fluid
    div.row
        div.col-sm-3.col-md-2.sidebar.t-spaceIcons
            h3 Overview
            ul.nav.nav-sidebar
                li
                    a(href='/logout') Logout
                li(class=(activeMenu === 'welcome' ? 'active' : ''))
                    a(href="/admin")
                        span.glyphicon.glyphicon-cloud
                        | Welcome
                li(class=(activeMenu === 'viewTickets' ? 'active' : ''))
                    a(href="/admin/viewTickets")
                        span.glyphicon.glyphicon-th-large
                        | View Tickets
                li(class=(activeMenu === 'newTicket' ? 'active' : ''))
                    a(href="#")
                        span.glyphicon.glyphicon-plus
                        | New Ticket
                li(class=(activeMenu === 'searchTicket' ? 'active' : ''))
                    a(href="#")
                        span.glyphicon.glyphicon-search
                        | Search Ticket
            h3 Control Panel
            ul.nav.nav-sidebar
                li(class=(activeMenu === 'viewUsers' ? 'active' : ''))
                    a(href="/admin/viewUsers")
                        span.glyphicon.glyphicon-user
                        | View Users
                li(class=(activeMenu === 'newUser' ? 'active' : ''))
                    a(href="/admin/newUser")
                        span.glyphicon.glyphicon-certificate
                        | New User
                li(class=(activeMenu === 'mailSettings' ? 'active' : ''))
                    a(href="#")
                        span.glyphicon.glyphicon-envelope
                        | Mail Settings
                li(class=(activeMenu === 'otherSettings' ? 'active' : ''))
                    a(href="#")
                        span.glyphicon.glyphicon-cog
                        | Other Settings
            hr
        div.col-sm-9.col-sm-offset-3.col-md-10.col-md-offset-2.main
            block panel